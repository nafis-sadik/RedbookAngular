<div class="container-fluid role">
  <div class="row">
    <div class="col-md-4">
      <nb-card size="large">
        <nb-card-header>
          Your Business Outlets
        </nb-card-header>
        <nb-card-body>
          <nb-list>
            <nb-list-item class="container-fluid" *ngFor="let business of ownedBusinesses">
              <div class="row w-100">
                <div class="col-lg-8">
                  <nb-radio name="BusinessOutlet" (click)="loadBusinessRoles(business.organizationId)">
                    {{ business.organizationName }}
                  </nb-radio>
                </div>
                <div class="col-lg-4">
                  <div class="row">
                    <div class="col-6 p-0 pe-1">
                      <button fullWidth nbButton hero type="button" status="primary" nbTooltip="Update"
                              nbTooltipStatus="primary"
                              (click)="openSaveBusinessWindow('Update Business Title - ' + business.organizationName, business)">
                        <nb-icon icon="copy"></nb-icon>
                      </button>
                    </div>
                    <div class="col-6 p-0 ps-1">
                      <button fullWidth nbButton hero type="button" status="danger" nbTooltip="Delete"
                              nbTooltipStatus="danger"
                              (click)="openDeleteBusinessWindow('Delete Category - ' + business.organizationName, business.organizationId)">
                        <nb-icon icon="trash-2"></nb-icon>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </nb-list-item>
          </nb-list>
        </nb-card-body>
        <nb-card-footer>
          <button nbButton hero status="primary" class="btn-save"
                  (click)="openSaveBusinessWindow('Add New Business', null)">
            <nb-icon icon="plus-square"></nb-icon>
            <span class="d-lg-block d-none">Add New Business Outlet</span>
            <span class="d-sm-block d-lg-none">Add Business</span>
          </button>
        </nb-card-footer>
      </nb-card>
    </div>
    <div class="col-md-4">
      <nb-card size="large">
        <nb-card-header>
          Roles
        </nb-card-header>
        <nb-card-body>
          <nb-list class="container-fluid">
            <nb-list-item class="row" *ngFor="let role of rolesUnderThisBusiness">
              <div class="col-lg-8">
                <nb-radio name="BusinessRoles" (click)="loadRoleRoutes(role.roleId)">
                  {{ role.roleName }}
                </nb-radio>
              </div>
              <div class="col-lg-4">
                <div class="row">
                  <div class="col-6 p-0 pe-1">
                    <button class="w-100" nbButton hero type="button" status="primary" nbTooltip="Update"
                            nbTooltipStatus="primary"
                            (click)="openSaveRoleWindow('Update Role - ' + role.roleName, role)">
                      <nb-icon icon="copy"></nb-icon>
                    </button>
                  </div>
                  <div class="col-6 p-0 ps-1">
                    <button class="w-100" nbButton hero type="button" status="danger" nbTooltip="Delete"
                            nbTooltipStatus="danger"
                            (click)="openDeleteRoleWindow('Delete Role - ' + role.roleName, role.roleId)">
                      <nb-icon icon="trash-2"></nb-icon>
                    </button>
                  </div>
                </div>
              </div>
            </nb-list-item>
          </nb-list>
        </nb-card-body>
        <nb-card-footer>
          <button nbButton hero status="primary" (click)="openSaveRoleWindow('Add New Role', null)">
            <nb-icon icon="plus-square"></nb-icon>
            Add Role
          </button>
        </nb-card-footer>
      </nb-card>
    </div>
    <div class="col-md-4">
      <nb-card size="large">
        <nb-card-header>
          Routes
        </nb-card-header>
        <nb-card-body>
          <nb-list>
            <nb-list-item *ngFor="let route of roleRouteMapping">
              <div class="container-fluid">
                <div class="row">
                  <nb-checkbox (click)="allowRouteToRole($event, route)" [checked]="route.isPermitted" status="primary"> {{ route.routeName }} </nb-checkbox>
                </div>
              </div>
            </nb-list-item>
          </nb-list>
        </nb-card-body>
      </nb-card>
    </div>
  </div>
</div>